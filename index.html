<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Word Definition Game</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            font-size: 1.1em;
        }

        .choice-btn {
            display: block;
            width: 80%;
            padding: 15px;
            margin: 10px auto;
            font-size: 1.4em;
            border: 2px solid #000;
            cursor: pointer;
            background-color: white;
            transition: background-color 0.2s;
        }

        .correct {
            background-color: lightgreen !important;
            color: black !important;
            border: 2px solid darkgreen;
        }

        .incorrect {
            background-color: lightcoral !important;
            color: black !important;
            border: 2px solid darkred;
        }

        #nextBtn {
            font-size: 1.5em;
            padding: 15px;
            width: 80%;
            margin: 10px auto;
            display: inline-block;
        }

        /* Ensure elements remain visible */
        #word, .choice-btn {
            visibility: visible;
            display: block;
        }
    </style>
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            startGame();
        });

        const words = {
            "Wretch": {definition:"A miserable or unfortunate person",difficulty:"hard"},
            "Wither": {definition:"To dry up or fade away",difficulty:"hard"},
            "Wary": {definition:"Cautious or on alert",difficulty:"hard"},
            "Whimsical": {definition:"Playful, unpredictable, or imaginative",difficulty:"hard"},
            "Yearn": {definition:"To deeply long for something",difficulty:"hard"},
            "Yearned": {definition:"Felt a strong desire or longing for something",difficulty:"hard"},

            "Dictionary": {definition:"A book or digital resource that provides definitions, meanings, and pronunciations of words",difficulty:"easy"},
            "International": {definition:"Relating to or involving multiple countries",difficulty:"easy"},
            "Courteous": {definition:"Being polite and respectful",difficulty:"easy"},
        };

        let usedWords = [];
        let selectedWord = "";
        let correctDefinition = "";
        let correctAnswers = 0;
        let totalAttempts = 0;
        let correctSelected = false;
        let gameMode = "hard";

        function setGameMode() {
            gameMode = document.getElementById("modeSwitch").checked ? "easy" : "hard";

            correctAnswers = 0;
            totalAttempts = 0;
            document.getElementById("score").innerText = `Score: ${correctAnswers} / ${totalAttempts}`;

            startGame();
        }

        function startGame() {
            document.getElementById("nextBtn").style.display = "none";
            document.getElementById("result").innerText = "";
            correctSelected = false;

            const filteredWords = Object.keys(words).filter(word => words[word].difficulty === gameMode);

            if (usedWords.length === filteredWords.length) {
                usedWords = [];
            }

            do {
                selectedWord = filteredWords[Math.floor(Math.random() * filteredWords.length)];
            } while (usedWords.includes(selectedWord));

            usedWords.push(selectedWord);
            correctDefinition = words[selectedWord].definition;

            let incorrectDefs = [];
            while (incorrectDefs.length < 2) {
                let randomWord = filteredWords[Math.floor(Math.random() * filteredWords.length)];
                let randomDef = words[randomWord].definition;
                if (randomWord !== selectedWord && !incorrectDefs.includes(randomDef)) {
                    incorrectDefs.push(randomDef);
                }
            }

            const choices = [correctDefinition, ...incorrectDefs].sort(() => Math.random() - 0.5);

            document.getElementById("word").innerText = selectedWord;

            const buttons = document.querySelectorAll(".choice-btn");
            buttons.forEach((button, index) => {
                button.innerText = choices[index];
                button.setAttribute("data-correct", choices[index] === correctDefinition);
                button.classList.remove("correct", "incorrect");
                button.style.display = "block";
                button.onclick = checkAnswer;
            });
        }

        function checkAnswer(event) {
            const buttons = document.querySelectorAll(".choice-btn");

            buttons.forEach(button => {
                if (button.getAttribute("data-correct") === "true") {
                    button.classList.add("correct");
                } else if (button === event.target) {
                    button.classList.add("incorrect");
                }
            });

            correctSelected = event.target.getAttribute("data-correct") === "true";
            document.getElementById("nextBtn").style.display = "inline-block";
        }

        function nextWord() {
            if (correctSelected) {
                correctAnswers++;
            }
            totalAttempts++;
            document.getElementById("score").innerText = `Score: ${correctAnswers} / ${totalAttempts}`;
            startGame();
        }
    </script>
</head>
<body>
    <h1>Word Definition Game</h1>

    <div id="modeSwitchContainer">
        <label for="modeSwitch">Easy Mode:</label>
        <input type="checkbox" id="modeSwitch" onchange="setGameMode()">
    </div>

    <p>Select the correct definition for: <strong id="word"></strong></p>
    <button class="choice-btn"></button>
    <button class="choice-btn"></button>
    <button class="choice-btn"></button>
    <p id="score">Score: 0 / 0</p>
    <button id="nextBtn" onclick="nextWord()">Next Word</button>
</body>
</html>
